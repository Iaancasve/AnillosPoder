<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="card p-4">
    <p-table [value]="personajes" [paginator]="true" [rows]="10" styleClass="p-datatable-sm p-datatable-striped">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Raza</th>
                <th>Fecha Nacimiento</th>
                <th style="width: 12rem" class="text-center">Acciones</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-personaje>
            <tr>
                <td>{{ personaje.id }}</td>
                <td>{{ personaje.nombre }}</td>
                <td>{{ personaje.raza }}</td>
                <td>{{ personaje.fechaNacimiento }}</td>
                <td class="text-center">
                    <div class="flex gap-2 justify-content-center"
                        style="display: flex; gap: 0.5rem; justify-content: center;">
                        <p-button icon="pi pi-pencil" severity="warn"
                            [routerLink]="['/editar', personaje.id]"></p-button>

                        <p-button icon="pi pi-trash" severity="danger"
                            (onClick)="confirmarBajaFisica(personaje.id)"></p-button>

                        <p-button *ngIf="!personaje.fechaBaja" icon="pi pi-user-minus" severity="secondary"
                            (onClick)="confirmarBajaLogica(personaje.id)" title="Dar de Baja">
                        </p-button>

                        <p-button *ngIf="personaje.fechaBaja" icon="pi pi-refresh" severity="success"
                            (onClick)="confirmarReactivacion(personaje.id)" title="Reactivar Personaje">
                        </p-button>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>